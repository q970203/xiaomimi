{"remainingRequest":"F:\\前端\\mi\\node_modules\\thread-loader\\dist\\cjs.js!F:\\前端\\mi\\node_modules\\babel-loader\\lib\\index.js!F:\\前端\\mi\\src\\plugins\\axios.js","dependencies":[{"path":"F:\\前端\\mi\\src\\plugins\\axios.js","mtime":1585561120519},{"path":"F:\\前端\\mi\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\前端\\mi\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\前端\\mi\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzIjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgdm0gZnJvbSAnLi4vbWFpbi5qcyc7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCByb3V0ZXIgZnJvbSAnLi9yb3V0ZXIuanMnOwppbXBvcnQgc3RvcmUgZnJvbSAnLi92dWV4LmpzJzsKYXhpb3MuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKGZ1bmN0aW9uIChjb25maWcpIHsKICBjb25zb2xlLmxvZygn5oum5oiq5ZmoJyk7IC8v6K+35rGC5Y+R5Ye65LmL5YmN6K6+572u57uf5LiA55qEdG9rZW4KCiAgdmFyIHRva2VuID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyJyk7CiAgdG9rZW4gPSB0b2tlbiA/IEpTT04ucGFyc2Uod2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyJykpLnRva2VuIDogJycsIC8vICBsZXQgdG9rZW4gPSBzdG9yZS5zdGF0ZS51c2VyLnVzZXIudG9rZW47CiAgLy8gdG9rZW4gPSB0b2tlbiA/IHRva2VuIDogJyc7CiAgLy8gCiAgY29uZmlnLmhlYWRlcnMgPSB7CiAgICB0b2tlbjogdG9rZW4KICB9OyAvLyDmjqfliLZsb2FkaW5n5pi+56S6CgogIHN0b3JlLnN0YXRlLmJMb2FkaW5nID0gdHJ1ZTsKICByZXR1cm4gY29uZmlnOwp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsgLy/mt7vliqDkuIDkuKrlk43lupTnmoTmi6bmiKrlmagKCmF4aW9zLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgc3RvcmUuc3RhdGUuYkxvYWRpbmcgPSBmYWxzZTsKICB2YXIgY3VycmVudFJvdXRlID0gcm91dGVyLmN1cnJlbnRSb3V0ZS5mdWxsUGF0aDsKICBjb25zb2xlLmxvZygnY3VycmVudFJvdXRlJywgY3VycmVudFJvdXRlKTsKICBjb25zb2xlLmxvZygiZGRmemZkeiIsIHJlc3BvbnNlLmRhdGEuZXJyKTsKCiAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyICE9IDAgJiYgIWN1cnJlbnRSb3V0ZS5pbmNsdWRlcygnL2xvZ2luJykpIHsKICAgIHJvdXRlci5wdXNoKHsKICAgICAgcGF0aDogJy9yZWcnLAogICAgICBxdWVyeTogewogICAgICAgIHA6IGN1cnJlbnRSb3V0ZQogICAgICB9CiAgICB9KTsKICB9CgogIHJldHVybiByZXNwb25zZTsKfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7ClZ1ZS5wcm90b3R5cGUuJGF4aW9zID0gYXhpb3M7CndpbmRvdy5heGlvcyA9IGF4aW9zOwpleHBvcnQgZGVmYXVsdCBheGlvczs="},{"version":3,"sources":["F:/前端/mi/src/plugins/axios.js"],"names":["Vue","vm","axios","router","store","interceptors","request","use","config","console","log","token","window","localStorage","getItem","JSON","parse","headers","state","bLoading","error","Promise","reject","response","currentRoute","fullPath","data","err","includes","push","path","query","p","prototype","$axios"],"mappings":";;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,EAAP,MAAe,YAAf;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,aAAnB;AACA,OAAOC,KAAP,MAAkB,WAAlB;AACAF,KAAK,CAACG,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CAA+B,UAAUC,MAAV,EAAkB;AAChDC,EAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EADgD,CAEhD;;AACA,MAAIC,KAAK,GAAGC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,MAA5B,CAAZ;AACAH,EAAAA,KAAK,GAAGA,KAAK,GAAGI,IAAI,CAACC,KAAL,CAAWJ,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,MAA5B,CAAX,EAAgDH,KAAnD,GAA2D,EAAxE,EAEA;AACA;AACA;AACAH,EAAAA,MAAM,CAACS,OAAP,GAAiB;AACfN,IAAAA,KAAK,EAACA;AADS,GALjB,CAJgD,CAYhD;;AACCP,EAAAA,KAAK,CAACc,KAAN,CAAYC,QAAZ,GAAqB,IAArB;AACA,SAAOX,MAAP;AACD,CAfD,EAeG,UAAUY,KAAV,EAAiB;AAClB,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACD,CAjBD,E,CAkBA;;AACAlB,KAAK,CAACG,YAAN,CAAmBkB,QAAnB,CAA4BhB,GAA5B,CAAgC,UAASgB,QAAT,EAAkB;AACjDnB,EAAAA,KAAK,CAACc,KAAN,CAAYC,QAAZ,GAAsB,KAAtB;AACA,MAAIK,YAAY,GAAGrB,MAAM,CAACqB,YAAP,CAAoBC,QAAvC;AACAhB,EAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA2Bc,YAA3B;AACAf,EAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAsBa,QAAQ,CAACG,IAAT,CAAcC,GAApC;;AACA,MAAGJ,QAAQ,CAACG,IAAT,CAAcC,GAAd,IAAmB,CAAnB,IAAwB,CAACH,YAAY,CAACI,QAAb,CAAsB,QAAtB,CAA5B,EAA6D;AAC5DzB,IAAAA,MAAM,CAAC0B,IAAP,CAAY;AACXC,MAAAA,IAAI,EAAC,MADM;AAEXC,MAAAA,KAAK,EAAC;AAACC,QAAAA,CAAC,EAACR;AAAH;AAFK,KAAZ;AAIA;;AACD,SAAOD,QAAP;AACA,CAZD,EAYE,UAASH,KAAT,EAAe;AAChB,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACA,CAdD;AAgBApB,GAAG,CAACiC,SAAJ,CAAcC,MAAd,GAAuBhC,KAAvB;AACAU,MAAM,CAACV,KAAP,GAAeA,KAAf;AACA,eAAeA,KAAf","sourcesContent":["import Vue from 'vue'\r\nimport vm from '../main.js'\r\nimport axios from 'axios'\r\nimport router from './router.js'\r\nimport store from './vuex.js'\r\naxios.interceptors.request.use(function (config) {\r\n\tconsole.log('拦截器')\r\n\t//请求发出之前设置统一的token\r\n\tlet token = window.localStorage.getItem('user')\r\n\ttoken = token ? JSON.parse(window.localStorage.getItem('user')).token : '',\r\n\t\r\n\t//  let token = store.state.user.user.token;\r\n\t// token = token ? token : '';\r\n\t// \r\n\tconfig.headers = {\r\n\t \ttoken:token\r\n }\r\n // 控制loading显示\r\n  store.state.bLoading=true;\r\n  return config;\r\n}, function (error) {\r\n  return Promise.reject(error);\r\n});\r\n//添加一个响应的拦截器\r\naxios.interceptors.response.use(function(response){\r\n\tstore.state.bLoading= false;\r\n\tlet currentRoute = router.currentRoute.fullPath;\r\n\tconsole.log('currentRoute',currentRoute)\r\n\tconsole.log(\"ddfzfdz\",response.data.err)\r\n\tif(response.data.err!=0 && !currentRoute.includes('/login') ){\r\n\t\trouter.push({\r\n\t\t\tpath:'/reg',\r\n\t\t\tquery:{p:currentRoute}\r\n\t\t})\r\n\t}\r\n\treturn response;\r\n},function(error){\r\n\treturn Promise.reject(error)\r\n});\r\n\r\nVue.prototype.$axios = axios;\r\nwindow.axios = axios\r\nexport default axios;\r\n"]}]}