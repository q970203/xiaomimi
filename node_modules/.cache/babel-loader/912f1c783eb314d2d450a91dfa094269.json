{"remainingRequest":"F:\\前端\\mi\\node_modules\\thread-loader\\dist\\cjs.js!F:\\前端\\mi\\node_modules\\babel-loader\\lib\\index.js!F:\\前端\\mi\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\前端\\mi\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\前端\\mi\\src\\pages\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\前端\\mi\\src\\pages\\Login.vue","mtime":1585554395531},{"path":"F:\\前端\\mi\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\前端\\mi\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\前端\\mi\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\前端\\mi\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\前端\\mi\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBMb2dpblR5cGUgZnJvbSAnLi4vY29tcG9uZW50cy9Mb2dpblR5cGUvTG9naW5UeXBlLnZ1ZSc7CmltcG9ydCBMYW5ndWFnZSBmcm9tICcuLi9jb21wb25lbnRzL0xhbmd1YWdlLnZ1ZSc7CmltcG9ydCBVc2VyTG9naW4gZnJvbSAnLi4vY29tcG9uZW50cy9Vc2VyTG9naW4udnVlJzsKaW1wb3J0IElwaG9uZUxvZ2luIGZyb20gJy4uL2NvbXBvbmVudHMvSXBob25lTG9naW4udnVlJzsKaW1wb3J0IEJ1dHRvbiBmcm9tICcuLi9jb21wb25lbnRzL0J1dHRvbi52dWUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0xvZ2luJywKICBwcm9wczoge30sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHBhc3N3b3JkOiBudWxsLAogICAgICB0ZWw6IG51bGwsCiAgICAgIHl6Q29kZTogbnVsbCwKICAgICAgbG9naW5UeXBlOiAnVXNlckxvZ2luJywKICAgICAgYnRuMTogJ+eZu+W9lScsCiAgICAgIGJ0bjI6ICfmiYvmnLrnn63kv6HnmbvlvZUv5rOo5YaMJywKICAgICAgZm9yZ2V0OiAnPGEgaHJlZj0iIj7nq4vljbPms6jlhow8L2E+PHNwYW4+PC9zcGFuPjxhIGhyZWY9IiI+5b+Y6K6w5a+G56CB77yfPC9hPicKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBMb2dpblR5cGU6IExvZ2luVHlwZSwKICAgIExhbmd1YWdlOiBMYW5ndWFnZSwKICAgIFVzZXJMb2dpbjogVXNlckxvZ2luLAogICAgSXBob25lTG9naW46IElwaG9uZUxvZ2luLAogICAgQnV0dG9uOiBCdXR0b24KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7fSwKICB1cGRhdGVkOiBmdW5jdGlvbiB1cGRhdGVkKCkge30sCiAgbWV0aG9kczogewogICAgZ2V0UGFyYW1zOiBmdW5jdGlvbiBnZXRQYXJhbXMoZGF0YSkgewogICAgICBjb25zb2xlLmxvZygn54i25Ye95pWwJywgZGF0YS50ZWwsIGRhdGEueXpDb2RlLCBkYXRhLnBhc3N3b3JkKTsKICAgICAgdGhpcy50ZWwgPSBkYXRhLnRlbDsKICAgICAgdGhpcy5wYXNzd29yZCA9IGRhdGEucGFzc3dvcmQ7CiAgICAgIHRoaXMueXpDb2RlID0gZGF0YS55ekNvZGU7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMudGVsLCB0aGlzLnBhc3N3b3JkLCB0aGlzLnl6Q29kZSk7CiAgICB9LAogICAgY2hhbmdlVHlwZTogZnVuY3Rpb24gY2hhbmdlVHlwZSgpIHsKICAgICAgaWYgKHRoaXMubG9naW5UeXBlID09ICdJcGhvbmVMb2dpbicpIHsKICAgICAgICB0aGlzLmxvZ2luVHlwZSA9ICdVc2VyTG9naW4nOwogICAgICAgIHRoaXMuYnRuMSA9ICfnmbvlvZUnOwogICAgICAgIHRoaXMuYnRuMiA9ICfmiYvmnLrnn63kv6HnmbvlvZUv5rOo5YaMJzsKICAgICAgICB0aGlzLmZvcmdldCA9ICc8YSBocmVmPSIiPueri+WNs+azqOWGjDwvYT48c3Bhbj48L3NwYW4+PGEgaHJlZj0iIj7lv5jorrDlr4bnoIHvvJ88L2E+JzsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmxvZ2luVHlwZSA9ICdJcGhvbmVMb2dpbic7CiAgICAgICAgdGhpcy5idG4xID0gJ+eri+WNs+eZu+W9lS/ms6jlhownOwogICAgICAgIHRoaXMuYnRuMiA9ICfnlKjmiLflkI3lr4bnoIHnmbvlvZUnOwogICAgICAgIHRoaXMuZm9yZ2V0ID0gJzxhIGhyZWY9IiI+5pS25LiN5Yiw6aqM6K+B56CB77yfPC9hPic7CiAgICAgIH0KICAgIH0sCiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLiRheGlvcyh7CiAgICAgICAgdXJsOiAnL2FwaS9sb2dpbicsCiAgICAgICAgbWV0aG9kOiAncG9zdCcsCiAgICAgICAgZGF0YTogewogICAgICAgICAgdGVsOiB0aGlzLnRlbCwKICAgICAgICAgIHBhc3N3b3JkOiB0aGlzLnBhc3N3b3JkLAogICAgICAgICAgeXpDb2RlOiB0aGlzLnl6Q29kZQogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5kYXRhLmVyciA9PSAwKSB7CiAgICAgICAgICBfdGhpcy50ZWwgPSBfdGhpcy5wYXNzd29yZCA9ICIiOwogICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ1c2VyIiwgSlNPTi5zdHJpbmdpZnkocmVzLmRhdGEpKTsKCiAgICAgICAgICBfdGhpcy4kc3RvcmUuY29tbWl0KCd1c2VyL1VTRVInLCByZXMuZGF0YSk7IC8v5rKh5pyJ5ZCn5byC5q2l5Lia5Yqh5Lii5YiwYWN0aW9uc+mHjOmdou+8jOaJgOS7peebtOaOpeaPkOS6pG11dGF0aW9ucwoKCiAgICAgICAgICBpZiAoX3RoaXMuJHJvdXRlLnF1ZXJ5LnApIHsKICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5yZXBsYWNlKF90aGlzLiRyb3V0ZS5xdWVyeS5wKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucmVwbGFjZSgnL2hvbWUnKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc29sZS5sb2coJ2VycicsIHJlcy5kYXRhKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"Login\">\r\n    <div class=\"Login__header\">\r\n\t\t\t<h1><img src=\"../assets/img/milogo.png\" alt=\"\"></h1>\r\n\t\t\t<p>小米账号登录</p>\r\n\t\t</div>\r\n\t\t<components :is='loginType' @input='getParams' ></components>\r\n\t\t<div class=\"Login__btn\">\r\n\t\t\t<Button :text=\"btn1\" bgColor=\"#ff6700\" ztColor='#ffffff' @click='login'/>\r\n\t\t\t<Button :text=\"btn2\" @click=\"changeType\" />\r\n\t\t</div>\r\n\t\t<div class=\"Login__forget\" v-html=\"forget\"></div>\r\n\t\t<div class=\"Login__other\">\r\n\t\t\t<LoginType/>\r\n\t\t</div>\r\n\t\t<Language/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\n\timport LoginType from '../components/LoginType/LoginType.vue'\r\n\timport Language from '../components/Language.vue'\r\n\timport UserLogin from '../components/UserLogin.vue'\r\n\timport IphoneLogin from '../components/IphoneLogin.vue'\r\n\timport Button from '../components/Button.vue'\r\n\r\n  export default {\r\n    name: 'Login',\r\n    props: {},\r\n    data() {\r\n       return {\r\n\t\t\t\t password:null,\r\n\t\t\t\t tel:null,\r\n\t\t\t\t yzCode:null,\r\n\t\t\t\t loginType:'UserLogin',\r\n\t\t\t\t btn1:'登录',\r\n\t\t\t\t btn2:'手机短信登录/注册',\r\n\t\t\t\t forget:'<a href=\"\">立即注册</a><span></span><a href=\"\">忘记密码？</a>'\r\n       }\r\n},\r\n    components: {\r\n\t\tLoginType,Language,UserLogin,IphoneLogin,Button\r\n\t\t},\r\n    mounted() {},\r\n    updated() {},\r\n    methods: {\r\n\t\t\tgetParams(data){\r\n\t\t\t\tconsole.log('父函数',data.tel,data.yzCode,data.password);\r\n\t\t\t\tthis.tel = data.tel;\r\n\t\t\t\tthis.password = data.password;\r\n\t\t\t\tthis.yzCode = data.yzCode\r\n\t\t\t\tconsole.log(this.tel,this.password,this.yzCode);\r\n\t\t\t},\r\n\t\t\tchangeType(){\r\n\t\t\t\tif(this.loginType=='IphoneLogin'){\r\n\t\t\t\t\tthis.loginType ='UserLogin'\r\n\t\t\t\t\tthis.btn1='登录'\r\n\t\t\t\t\tthis.btn2='手机短信登录/注册'\r\n\t\t\t\t\tthis.forget = '<a href=\"\">立即注册</a><span></span><a href=\"\">忘记密码？</a>'\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.loginType ='IphoneLogin'\r\n\t\t\t\t\tthis.btn1 = '立即登录/注册'\r\n\t\t\t\t\tthis.btn2 = '用户名密码登录'\r\n\t\t\t\t\tthis.forget = '<a href=\"\">收不到验证码？</a>'\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tlogin(){\r\n\t\t\t\tthis.$axios({\r\n\t\t\t\t\turl:'/api/login',\r\n\t\t\t\t\tmethod:'post',\r\n\t\t\t\t\tdata:{tel:this.tel,password:this.password,yzCode:this.yzCode}\r\n\t\t\t\t}).then(\r\n\t\t\t\tres => {\r\n\t\t\t\t\tif(res.data.err==0){\r\n\t\t\t\t\t\tthis.tel=this.password=\"\"\r\n\t\t\t\t\t\twindow.localStorage.setItem(\"user\",JSON.stringify(res.data))\r\n\t\t\t\t\t\t this.$store.commit('user/USER',res.data);//没有吧异步业务丢到actions里面，所以直接提交mutations\r\n\r\n\t\t\t\t\t\t if(this.$route.query.p){\r\n\t\t\t\t\t\t  this.$router.replace(this.$route.query.p)\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t  this.$router.replace('/home')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tconsole.log('err',res.data)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n  }\r\n</script>\r\n\r\n<style>\r\n\t.Login{padding: 0 0.625rem}\r\n  .Login__header{text-align: center;margin-top: 0.9375rem;}\r\n\t.Login__header p{margin: 0.1875rem auto;font-size: 16px;}\r\n\t.Login__btn{margin-top: 0.875rem;}\r\n\t.Login__forget{width: 100%; text-align: center;font-size: 15px; }\r\n\t.Login__forget a{color: #9b9b9b;}\r\n\t.Login__forget span{display: inline-block;margin: 0 0.15rem; height: 10px; border:1px solid #666 ;}\r\n\t\r\n</style>\r\n"],"sourceRoot":"src/pages"}]}