{"remainingRequest":"F:\\前端\\mi\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\前端\\mi\\src\\pages\\Login.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"F:\\前端\\mi\\src\\pages\\Login.vue","mtime":1585554395531},{"path":"F:\\前端\\mi\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\前端\\mi\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"F:\\前端\\mi\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"F:\\前端\\mi\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\前端\\mi\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCS5Mb2dpbntwYWRkaW5nOiAwIDAuNjI1cmVtfQogIC5Mb2dpbl9faGVhZGVye3RleHQtYWxpZ246IGNlbnRlcjttYXJnaW4tdG9wOiAwLjkzNzVyZW07fQoJLkxvZ2luX19oZWFkZXIgcHttYXJnaW46IDAuMTg3NXJlbSBhdXRvO2ZvbnQtc2l6ZTogMTZweDt9CgkuTG9naW5fX2J0bnttYXJnaW4tdG9wOiAwLjg3NXJlbTt9CgkuTG9naW5fX2ZvcmdldHt3aWR0aDogMTAwJTsgdGV4dC1hbGlnbjogY2VudGVyO2ZvbnQtc2l6ZTogMTVweDsgfQoJLkxvZ2luX19mb3JnZXQgYXtjb2xvcjogIzliOWI5Yjt9CgkuTG9naW5fX2ZvcmdldCBzcGFue2Rpc3BsYXk6IGlubGluZS1ibG9jazttYXJnaW46IDAgMC4xNXJlbTsgaGVpZ2h0OiAxMHB4OyBib3JkZXI6MXB4IHNvbGlkICM2NjYgO30KCQo="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgGA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/pages","sourcesContent":["<template>\r\n  <div class=\"Login\">\r\n    <div class=\"Login__header\">\r\n\t\t\t<h1><img src=\"../assets/img/milogo.png\" alt=\"\"></h1>\r\n\t\t\t<p>小米账号登录</p>\r\n\t\t</div>\r\n\t\t<components :is='loginType' @input='getParams' ></components>\r\n\t\t<div class=\"Login__btn\">\r\n\t\t\t<Button :text=\"btn1\" bgColor=\"#ff6700\" ztColor='#ffffff' @click='login'/>\r\n\t\t\t<Button :text=\"btn2\" @click=\"changeType\" />\r\n\t\t</div>\r\n\t\t<div class=\"Login__forget\" v-html=\"forget\"></div>\r\n\t\t<div class=\"Login__other\">\r\n\t\t\t<LoginType/>\r\n\t\t</div>\r\n\t\t<Language/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\n\timport LoginType from '../components/LoginType/LoginType.vue'\r\n\timport Language from '../components/Language.vue'\r\n\timport UserLogin from '../components/UserLogin.vue'\r\n\timport IphoneLogin from '../components/IphoneLogin.vue'\r\n\timport Button from '../components/Button.vue'\r\n\r\n  export default {\r\n    name: 'Login',\r\n    props: {},\r\n    data() {\r\n       return {\r\n\t\t\t\t password:null,\r\n\t\t\t\t tel:null,\r\n\t\t\t\t yzCode:null,\r\n\t\t\t\t loginType:'UserLogin',\r\n\t\t\t\t btn1:'登录',\r\n\t\t\t\t btn2:'手机短信登录/注册',\r\n\t\t\t\t forget:'<a href=\"\">立即注册</a><span></span><a href=\"\">忘记密码？</a>'\r\n       }\r\n},\r\n    components: {\r\n\t\tLoginType,Language,UserLogin,IphoneLogin,Button\r\n\t\t},\r\n    mounted() {},\r\n    updated() {},\r\n    methods: {\r\n\t\t\tgetParams(data){\r\n\t\t\t\tconsole.log('父函数',data.tel,data.yzCode,data.password);\r\n\t\t\t\tthis.tel = data.tel;\r\n\t\t\t\tthis.password = data.password;\r\n\t\t\t\tthis.yzCode = data.yzCode\r\n\t\t\t\tconsole.log(this.tel,this.password,this.yzCode);\r\n\t\t\t},\r\n\t\t\tchangeType(){\r\n\t\t\t\tif(this.loginType=='IphoneLogin'){\r\n\t\t\t\t\tthis.loginType ='UserLogin'\r\n\t\t\t\t\tthis.btn1='登录'\r\n\t\t\t\t\tthis.btn2='手机短信登录/注册'\r\n\t\t\t\t\tthis.forget = '<a href=\"\">立即注册</a><span></span><a href=\"\">忘记密码？</a>'\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.loginType ='IphoneLogin'\r\n\t\t\t\t\tthis.btn1 = '立即登录/注册'\r\n\t\t\t\t\tthis.btn2 = '用户名密码登录'\r\n\t\t\t\t\tthis.forget = '<a href=\"\">收不到验证码？</a>'\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tlogin(){\r\n\t\t\t\tthis.$axios({\r\n\t\t\t\t\turl:'/api/login',\r\n\t\t\t\t\tmethod:'post',\r\n\t\t\t\t\tdata:{tel:this.tel,password:this.password,yzCode:this.yzCode}\r\n\t\t\t\t}).then(\r\n\t\t\t\tres => {\r\n\t\t\t\t\tif(res.data.err==0){\r\n\t\t\t\t\t\tthis.tel=this.password=\"\"\r\n\t\t\t\t\t\twindow.localStorage.setItem(\"user\",JSON.stringify(res.data))\r\n\t\t\t\t\t\t this.$store.commit('user/USER',res.data);//没有吧异步业务丢到actions里面，所以直接提交mutations\r\n\r\n\t\t\t\t\t\t if(this.$route.query.p){\r\n\t\t\t\t\t\t  this.$router.replace(this.$route.query.p)\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t  this.$router.replace('/home')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tconsole.log('err',res.data)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n  }\r\n</script>\r\n\r\n<style>\r\n\t.Login{padding: 0 0.625rem}\r\n  .Login__header{text-align: center;margin-top: 0.9375rem;}\r\n\t.Login__header p{margin: 0.1875rem auto;font-size: 16px;}\r\n\t.Login__btn{margin-top: 0.875rem;}\r\n\t.Login__forget{width: 100%; text-align: center;font-size: 15px; }\r\n\t.Login__forget a{color: #9b9b9b;}\r\n\t.Login__forget span{display: inline-block;margin: 0 0.15rem; height: 10px; border:1px solid #666 ;}\r\n\t\r\n</style>\r\n"]}]}