{"remainingRequest":"F:\\前端\\mi\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\前端\\mi\\src\\pages\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\前端\\mi\\src\\pages\\Login.vue","mtime":1585554395531},{"path":"F:\\前端\\mi\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\前端\\mi\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\前端\\mi\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\前端\\mi\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgoJaW1wb3J0IExvZ2luVHlwZSBmcm9tICcuLi9jb21wb25lbnRzL0xvZ2luVHlwZS9Mb2dpblR5cGUudnVlJwoJaW1wb3J0IExhbmd1YWdlIGZyb20gJy4uL2NvbXBvbmVudHMvTGFuZ3VhZ2UudnVlJwoJaW1wb3J0IFVzZXJMb2dpbiBmcm9tICcuLi9jb21wb25lbnRzL1VzZXJMb2dpbi52dWUnCglpbXBvcnQgSXBob25lTG9naW4gZnJvbSAnLi4vY29tcG9uZW50cy9JcGhvbmVMb2dpbi52dWUnCglpbXBvcnQgQnV0dG9uIGZyb20gJy4uL2NvbXBvbmVudHMvQnV0dG9uLnZ1ZScKCiAgZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogJ0xvZ2luJywKICAgIHByb3BzOiB7fSwKICAgIGRhdGEoKSB7CiAgICAgICByZXR1cm4gewoJCQkJIHBhc3N3b3JkOm51bGwsCgkJCQkgdGVsOm51bGwsCgkJCQkgeXpDb2RlOm51bGwsCgkJCQkgbG9naW5UeXBlOidVc2VyTG9naW4nLAoJCQkJIGJ0bjE6J+eZu+W9lScsCgkJCQkgYnRuMjon5omL5py655+t5L+h55m75b2VL+azqOWGjCcsCgkJCQkgZm9yZ2V0Oic8YSBocmVmPSIiPueri+WNs+azqOWGjDwvYT48c3Bhbj48L3NwYW4+PGEgaHJlZj0iIj7lv5jorrDlr4bnoIHvvJ88L2E+JwogICAgICAgfQp9LAogICAgY29tcG9uZW50czogewoJCUxvZ2luVHlwZSxMYW5ndWFnZSxVc2VyTG9naW4sSXBob25lTG9naW4sQnV0dG9uCgkJfSwKICAgIG1vdW50ZWQoKSB7fSwKICAgIHVwZGF0ZWQoKSB7fSwKICAgIG1ldGhvZHM6IHsKCQkJZ2V0UGFyYW1zKGRhdGEpewoJCQkJY29uc29sZS5sb2coJ+eItuWHveaVsCcsZGF0YS50ZWwsZGF0YS55ekNvZGUsZGF0YS5wYXNzd29yZCk7CgkJCQl0aGlzLnRlbCA9IGRhdGEudGVsOwoJCQkJdGhpcy5wYXNzd29yZCA9IGRhdGEucGFzc3dvcmQ7CgkJCQl0aGlzLnl6Q29kZSA9IGRhdGEueXpDb2RlCgkJCQljb25zb2xlLmxvZyh0aGlzLnRlbCx0aGlzLnBhc3N3b3JkLHRoaXMueXpDb2RlKTsKCQkJfSwKCQkJY2hhbmdlVHlwZSgpewoJCQkJaWYodGhpcy5sb2dpblR5cGU9PSdJcGhvbmVMb2dpbicpewoJCQkJCXRoaXMubG9naW5UeXBlID0nVXNlckxvZ2luJwoJCQkJCXRoaXMuYnRuMT0n55m75b2VJwoJCQkJCXRoaXMuYnRuMj0n5omL5py655+t5L+h55m75b2VL+azqOWGjCcKCQkJCQl0aGlzLmZvcmdldCA9ICc8YSBocmVmPSIiPueri+WNs+azqOWGjDwvYT48c3Bhbj48L3NwYW4+PGEgaHJlZj0iIj7lv5jorrDlr4bnoIHvvJ88L2E+JwoJCQkJfWVsc2V7CgkJCQkJdGhpcy5sb2dpblR5cGUgPSdJcGhvbmVMb2dpbicKCQkJCQl0aGlzLmJ0bjEgPSAn56uL5Y2z55m75b2VL+azqOWGjCcKCQkJCQl0aGlzLmJ0bjIgPSAn55So5oi35ZCN5a+G56CB55m75b2VJwoJCQkJCXRoaXMuZm9yZ2V0ID0gJzxhIGhyZWY9IiI+5pS25LiN5Yiw6aqM6K+B56CB77yfPC9hPicKCgkJCQl9CgkJCX0sCgkJCWxvZ2luKCl7CgkJCQl0aGlzLiRheGlvcyh7CgkJCQkJdXJsOicvYXBpL2xvZ2luJywKCQkJCQltZXRob2Q6J3Bvc3QnLAoJCQkJCWRhdGE6e3RlbDp0aGlzLnRlbCxwYXNzd29yZDp0aGlzLnBhc3N3b3JkLHl6Q29kZTp0aGlzLnl6Q29kZX0KCQkJCX0pLnRoZW4oCgkJCQlyZXMgPT4gewoJCQkJCWlmKHJlcy5kYXRhLmVycj09MCl7CgkJCQkJCXRoaXMudGVsPXRoaXMucGFzc3dvcmQ9IiIKCQkJCQkJd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ1c2VyIixKU09OLnN0cmluZ2lmeShyZXMuZGF0YSkpCgkJCQkJCSB0aGlzLiRzdG9yZS5jb21taXQoJ3VzZXIvVVNFUicscmVzLmRhdGEpOy8v5rKh5pyJ5ZCn5byC5q2l5Lia5Yqh5Lii5YiwYWN0aW9uc+mHjOmdou+8jOaJgOS7peebtOaOpeaPkOS6pG11dGF0aW9ucwoKCQkJCQkJIGlmKHRoaXMuJHJvdXRlLnF1ZXJ5LnApewoJCQkJCQkgIHRoaXMuJHJvdXRlci5yZXBsYWNlKHRoaXMuJHJvdXRlLnF1ZXJ5LnApCgkJCQkJCX1lbHNlewoJCQkJCQkgIHRoaXMuJHJvdXRlci5yZXBsYWNlKCcvaG9tZScpCgkJCQkJCX0KCQkJCQl9ZWxzZXsKCQkJCQkJY29uc29sZS5sb2coJ2VycicscmVzLmRhdGEpCgkJCQkJfQoJCQkJfQoJCQkJKQoJCQl9CgkJfQogIH0K"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/pages","sourcesContent":["<template>\r\n  <div class=\"Login\">\r\n    <div class=\"Login__header\">\r\n\t\t\t<h1><img src=\"../assets/img/milogo.png\" alt=\"\"></h1>\r\n\t\t\t<p>小米账号登录</p>\r\n\t\t</div>\r\n\t\t<components :is='loginType' @input='getParams' ></components>\r\n\t\t<div class=\"Login__btn\">\r\n\t\t\t<Button :text=\"btn1\" bgColor=\"#ff6700\" ztColor='#ffffff' @click='login'/>\r\n\t\t\t<Button :text=\"btn2\" @click=\"changeType\" />\r\n\t\t</div>\r\n\t\t<div class=\"Login__forget\" v-html=\"forget\"></div>\r\n\t\t<div class=\"Login__other\">\r\n\t\t\t<LoginType/>\r\n\t\t</div>\r\n\t\t<Language/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\n\timport LoginType from '../components/LoginType/LoginType.vue'\r\n\timport Language from '../components/Language.vue'\r\n\timport UserLogin from '../components/UserLogin.vue'\r\n\timport IphoneLogin from '../components/IphoneLogin.vue'\r\n\timport Button from '../components/Button.vue'\r\n\r\n  export default {\r\n    name: 'Login',\r\n    props: {},\r\n    data() {\r\n       return {\r\n\t\t\t\t password:null,\r\n\t\t\t\t tel:null,\r\n\t\t\t\t yzCode:null,\r\n\t\t\t\t loginType:'UserLogin',\r\n\t\t\t\t btn1:'登录',\r\n\t\t\t\t btn2:'手机短信登录/注册',\r\n\t\t\t\t forget:'<a href=\"\">立即注册</a><span></span><a href=\"\">忘记密码？</a>'\r\n       }\r\n},\r\n    components: {\r\n\t\tLoginType,Language,UserLogin,IphoneLogin,Button\r\n\t\t},\r\n    mounted() {},\r\n    updated() {},\r\n    methods: {\r\n\t\t\tgetParams(data){\r\n\t\t\t\tconsole.log('父函数',data.tel,data.yzCode,data.password);\r\n\t\t\t\tthis.tel = data.tel;\r\n\t\t\t\tthis.password = data.password;\r\n\t\t\t\tthis.yzCode = data.yzCode\r\n\t\t\t\tconsole.log(this.tel,this.password,this.yzCode);\r\n\t\t\t},\r\n\t\t\tchangeType(){\r\n\t\t\t\tif(this.loginType=='IphoneLogin'){\r\n\t\t\t\t\tthis.loginType ='UserLogin'\r\n\t\t\t\t\tthis.btn1='登录'\r\n\t\t\t\t\tthis.btn2='手机短信登录/注册'\r\n\t\t\t\t\tthis.forget = '<a href=\"\">立即注册</a><span></span><a href=\"\">忘记密码？</a>'\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.loginType ='IphoneLogin'\r\n\t\t\t\t\tthis.btn1 = '立即登录/注册'\r\n\t\t\t\t\tthis.btn2 = '用户名密码登录'\r\n\t\t\t\t\tthis.forget = '<a href=\"\">收不到验证码？</a>'\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tlogin(){\r\n\t\t\t\tthis.$axios({\r\n\t\t\t\t\turl:'/api/login',\r\n\t\t\t\t\tmethod:'post',\r\n\t\t\t\t\tdata:{tel:this.tel,password:this.password,yzCode:this.yzCode}\r\n\t\t\t\t}).then(\r\n\t\t\t\tres => {\r\n\t\t\t\t\tif(res.data.err==0){\r\n\t\t\t\t\t\tthis.tel=this.password=\"\"\r\n\t\t\t\t\t\twindow.localStorage.setItem(\"user\",JSON.stringify(res.data))\r\n\t\t\t\t\t\t this.$store.commit('user/USER',res.data);//没有吧异步业务丢到actions里面，所以直接提交mutations\r\n\r\n\t\t\t\t\t\t if(this.$route.query.p){\r\n\t\t\t\t\t\t  this.$router.replace(this.$route.query.p)\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t  this.$router.replace('/home')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tconsole.log('err',res.data)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n  }\r\n</script>\r\n\r\n<style>\r\n\t.Login{padding: 0 0.625rem}\r\n  .Login__header{text-align: center;margin-top: 0.9375rem;}\r\n\t.Login__header p{margin: 0.1875rem auto;font-size: 16px;}\r\n\t.Login__btn{margin-top: 0.875rem;}\r\n\t.Login__forget{width: 100%; text-align: center;font-size: 15px; }\r\n\t.Login__forget a{color: #9b9b9b;}\r\n\t.Login__forget span{display: inline-block;margin: 0 0.15rem; height: 10px; border:1px solid #666 ;}\r\n\t\r\n</style>\r\n"]}]}