{"remainingRequest":"F:\\前端\\mi\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\前端\\mi\\src\\pages\\User.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"F:\\前端\\mi\\src\\pages\\User.vue","mtime":1585554395534},{"path":"F:\\前端\\mi\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\前端\\mi\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"F:\\前端\\mi\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"F:\\前端\\mi\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\前端\\mi\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\前端\\mi\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLlVzZXIgewoJYmFja2dyb3VuZDogI2Y1ZjVmNTsKCW1hcmdpbjogMS4zNXJlbSAwOwp9CgouVXNlcj5kaXYgewoJZGlzcGxheTogaW5saW5lLWJsb2NrOwoJdmVydGljYWwtYWxpZ246IHRvcDsKfQoKLyogLnVzZXItci10b3A+ZGl2e30gKi8KLlVzZXJfX3JpZ2h0IHsKCW1hcmdpbi10b3A6IDVweDsKCXdpZHRoOiAxMDAlOwoJbWFyZ2luLWxlZnQ6IDEwcHg7CgliYWNrZ3JvdW5kOiAjZmZmOwoJcGFkZGluZzogMCAyMHB4OwoJYm94LXNpemluZzogYm9yZGVyLWJveAp9CgoudXNlci1yLXRvcCB7CgltYXJnaW4tYm90dG9tOiAxM3B4OwoJd2lkdGg6IDEwMCU7CgloZWlnaHQ6IDJyZW07CglwYWRkaW5nOiAyMHB4IDA7Cglib3JkZXItYm90dG9tOiAxcHggc29saWQgI2IwYjBiMDsKfQoKLnVzZXItci10b3A+ZGl2IHsKCWZsb2F0OiBsZWZ0Owp9CgouaWNvbiB7Cgl3aWR0aDogNjBweDsKCWhlaWdodDogNjBweDsKCWJvcmRlci1yYWRpdXM6IDUwJTsKCW92ZXJmbG93OiBoaWRkZW47Cn0KCi5pY29uPmltZyB7Cgl3aWR0aDogMTAwJTsKCWhlaWdodDogMTAwJTsKfQoKLnVzZXItci1pbmZvIHsKCW1hcmdpbi1sZWZ0OiAxMHB4Cn0KCi51c2VyLXItaW5mbz5oMyB7Cglmb250LXNpemU6IDE2cHg7Cglmb250LXdlaWdodDogNDAwOwoJY29sb3I6ICM3NTc1NzU7Cn0KCi51c2VyLXItaW5mbz5wIHsKCWZvbnQtc2l6ZTogMTJweDsKCWNvbG9yOiAjYjBiMGIwOwoJbGluZS1oZWlnaHQ6IDIwcHg7Cn0KCi51c2VyLXItaW5mbz5hIHsKCWZvbnQtc2l6ZTogMTBweDsKCWNvbG9yOiAkYmFzZUNvbG9yOwoJbGluZS1oZWlnaHQ6IDIwcHgKfQoKLy8gLnVzZXItci16aD5we2ZvbnQtc2l6ZTogMTJweDtjb2xvcjojYjBiMGIwO2xpbmUtaGVpZ2h0OiAxOHB4IH0KCi51c2VyLXItYm90dG9tPmRpdiB7CglwYWRkaW5nOiAyMHB4IDAKfQoKLnVzZXItci1ib3R0b20gLmljb24gewoJd2lkdGg6IDQ0cHg7CgloZWlnaHQ6IDQ0cHg7CglkaXNwbGF5OiBpbmxpbmUtYmxvY2s7Cgl2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlCn0KCi51c2VyLXItYm90dG9tIC5pY29uPmltZyB7Cgl3aWR0aDogMTAwJTsKCWhlaWdodDogMTAwJQp9CgoudXNlci1yLWJvdHRvbSAudXNlci1yLWluZm8gewoJZGlzcGxheTogaW5saW5lLWJsb2NrOwoJdmVydGljYWwtYWxpZ246IG1pZGRsZQp9CgoudXNlci1yLWJvdHRvbSBoMyB7Cglmb250LXNpemU6IDE0cHg7Cglmb250LXdlaWdodDogNDAwOwoJY29sb3I6ICM3NTc1NzUKfQoKLnVzZXItci1ib3R0b20gc3BhbiB7Cgljb2xvcjogJGJhc2VDb2xvcgp9CgoudXNlci1yLWJvdHRvbSBhIHsKCWZvbnQtc2l6ZTogMTJweDsKCWNvbG9yOiAjNzU3NTc1Owp9CgoudmFuLWdyaWQtaXRlbV9fY29udGVudC0tY2VudGVyIHsKCWNvbG9yOiAjZmY2NzAwOwp9CgoudmFuLWJ1dHRvbiB7CgltYXJnaW46IGF1dG87Cn0K"},{"version":3,"sources":["User.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyJA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA","file":"User.vue","sourceRoot":"src/pages","sourcesContent":["<template>\r\n\t<div class=\"User\" v-if=\"user!=null\">\r\n\t\t<!-- <LeftNav/> -->\r\n\t\t<div class=\"User__right\">\r\n\t\t\t<div class=\"user-r-top\">\r\n\t\t\t\t<div class=\"icon\"><img src=\"../assets/img/f790b51a76afd7b41522048fa779d69d.jpg\" alt=\"\"></div>\r\n\t\t\t\t<div class=\"user-r-info\">\r\n\t\t\t\t\t<h3>{{user.data.tel}}</h3>\r\n\t\t\t\t\t<p>欢迎光顾小米商城</p>\r\n\t\t\t\t\t<a href=\"#\" @click=\"UsesrInfo=true\">修改个人信息 > </a>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t\t<van-popup v-model=\"UsesrInfo\" round :style=\"{width:'80%',height:'6rem'}\">\r\n\t\t\t\t\t<h3 style=\"text-align: center;line-height: 1rem;font-weight: 400;\">修改信息</h3>\r\n\t\t\t\t\t<van-field v-model=\"username\" label=\"用户名\" placeholder=\"请输入用户名\" />\r\n\t\t\t\t\t<van-field v-model=\"user.data.tel\" type=\"tel\" label=\"手机号\"  placeholder=\"请输入手机号\"/>\r\n\t\t\t\t\t<van-field v-model=\"password\" type=\"password\" label=\"密码\"  placeholder=\"请输入密码\"/>\r\n\t\t\t\t\t<van-button type=\"warning\" block  @click=\"changeUserInfo\">确认修改</van-button>\r\n\t\t\t\t</van-popup>\r\n\t\t\t\r\n\t\t\t<van-grid>\r\n\t\t\t\t<van-grid-item icon=\"paid\" text=\"我的收藏\" />\r\n\t\t\t\t<van-grid-item icon=\"discount\" text=\"我的积分\" />\r\n\t\t\t\t<van-grid-item icon=\"location-o\" text=\"收货地址\" />\r\n\t\t\t\t<van-grid-item icon=\"todo-list-o\" text=\"我的订单\" />\r\n\t\t\t</van-grid>\r\n\t\t\t<van-grid>\r\n\t\t\t\t<van-grid-item icon=\"paid\" text=\"待支付\" />\r\n\t\t\t\t<van-grid-item icon=\"point-gift-o\" text=\"待发货\" />\r\n\t\t\t\t<van-grid-item icon=\"logistics\" text=\"待收货\" />\r\n\t\t\t\t<van-grid-item icon=\"clock-o\" text=\"待评价\" />\r\n\t\t\t</van-grid>\r\n\r\n\t\t\t<van-coupon-cell :coupons=\"coupons\" :chosen-coupon=\"chosenCoupon\" @click=\"showList = true\" />\r\n\t\t\t<!-- 优惠券列表 -->\r\n\t\t\t<van-popup v-model=\"showList\" round position=\"bottom\" style=\"height: 90%; padding-top: 4px;\">\r\n\t\t\t\t<van-coupon-list :coupons=\"coupons\" :chosen-coupon=\"chosenCoupon\" :disabled-coupons=\"disabledCoupons\" @change=\"onChange\"\r\n\t\t\t\t @exchange=\"onExchange\" />\r\n\t\t\t</van-popup>\r\n\r\n\t\t\t<van-cell title=\"会员福利社\" icon=\"diamond-o\" is-link />\r\n\t\t\t<van-cell title=\"我的权益\" icon=\"award-o\" is-link />\r\n\t\t\t<van-cell title=\"帮助中心\" icon=\"question-o\" is-link />\r\n\t\t\t<van-cell title=\"设置\" icon=\"setting-o\" is-link />\r\n\t\t\t<van-cell title=\"关于我们\" icon=\"smile-o\" is-link />\r\n\t\t\t<div style=\"width: 2rem;margin: auto;margin-top: 20px;\">\r\n\t\t\t\t<van-button round type=\"warning\" size=\"small\" @click=\"logout\">退出登录</van-button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport LeftNav from '../layouts/LeftNav.vue'\r\n\timport Foot from '../layouts/Foot.vue'\r\n\timport {mapState,mapActions} from \"vuex\"\r\n\tconst coupon = {\r\n\t\t\r\n\t\tavailable: 1,\r\n\t\tcondition: '无使用门槛\\n最多优惠12元',\r\n\t\treason: '',\r\n\t\tvalue: 150,\r\n\t\tname: '优惠券名称',\r\n\t\tstartAt: 1489104000,\r\n\t\tendAt: 1514592000,\r\n\t\tvalueDesc: '1.5',\r\n\t\tunitDesc: '元'\r\n\t};\r\n\texport default {\r\n\t\tbeforeRouteEnter(to,from,next){\r\n\t\t  axios({\r\n\t\t    url:'/api/user',\r\n\t\t  }).then(\r\n\t\t    res=>{\r\n\t\t      if(res.data.err==0){\r\n\t\t        next()\r\n\t\t      }else{\r\n\t\t\t\t\t\tconsole.log(\"reserr\",res);\r\n\t\t        next('/login')\r\n\t\t      }\r\n\t\t    }\r\n\t\t  )\r\n\t\t},\r\n\t\tname: 'User',\r\n\t\tprops: {},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tusername:\"\",\r\n\t\t\t\tpassword:\"\",\r\n\t\t\t\tUsesrInfo:false,\r\n\t\t\t\tchosenCoupon: -1,\r\n\t\t\t\tcoupons: [coupon],\r\n\t\t\t\tdisabledCoupons: [coupon],\r\n\t\t\t\tshowList: false,\r\n\t\t\t\temail: '未绑定',\r\n\t\t\t\tzhifu: 0,\r\n\t\t\t\tshouhuo: 0,\r\n\t\t\t\tcomments: 0,\r\n\t\t\t\tlike: 0,\r\n\t\t\t\t// user: null\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tLeftNav,\r\n\t\t\tFoot\r\n\t\t},\r\n\t\tactivated() {},\r\n\t\tmounted() {\r\n\t\t\tconsole.log(\"ddd\", JSON.parse(localStorage.getItem('user')).data);\r\n\t\t\t// this.$store.commit('user/USER',JSON.parse(local))\r\n      // this.$store.dispatch(`user/${this.$types.USER}`)\r\n\t\t\t// this.user = JSON.parse(localStorage.getItem('user')).data;\r\n\t\t},\r\n\t\tupdated() {},\r\n\t\tcomputed:{...mapState(\"user\",[\"user\"])},\r\n\t\tmethods: {\r\n\t\t\tchangeUserInfo(){\r\n\t\t\t\tthis.UsesrInfo=false;\r\n\t\t\t\tlet {_id} = this.user.data;\r\n\t\t\t\tlet {token} = this.user;\r\n\t\t\t\t\r\n\t\t\t\tthis.$axios({\r\n\t\t\t\t\turl:\"/api/user\",\r\n\t\t\t\t\tmethod:\"post\",\r\n\t\t\t\t\tdata:{_id,tel:this.user.data.tel,username:this.username,password:this.password}\r\n\t\t\t\t}).then(\r\n\t\t\t\t\tres=>\r\n\t\t\t\t\tthis.$store.commit('user/USER',\r\n\t\t\t\t\t{err:0,data:{_id,tel:this.user.data.tel,username:this.username,password:this.password},token},\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t\tonChange(index) {\r\n\t\t\t\tthis.showList = false;\r\n\t\t\t\tthis.chosenCoupon = index;\r\n\t\t\t},\r\n\t\t\tonExchange(code) {\r\n\t\t\t\tthis.coupons.push(coupon);\r\n\t\t\t},\r\n\t\t\tlogout() {\r\n\t\t\t\t//删除 本地 token vuex\r\n\t\t\t\twindow.localStorage.removeItem('user')\r\n\t\t\t\tthis.$store.commit('user/USER', {\r\n\t\t\t\t\terr: 1\r\n\t\t\t\t})\r\n\t\t\t\t//发送注销请求\r\n\t\t\t\tthis.$router.push('/login')\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.User {\r\n\t\tbackground: #f5f5f5;\r\n\t\tmargin: 1.35rem 0;\r\n\t}\r\n\r\n\t.User>div {\r\n\t\tdisplay: inline-block;\r\n\t\tvertical-align: top;\r\n\t}\r\n\r\n\t/* .user-r-top>div{} */\r\n\t.User__right {\r\n\t\tmargin-top: 5px;\r\n\t\twidth: 100%;\r\n\t\tmargin-left: 10px;\r\n\t\tbackground: #fff;\r\n\t\tpadding: 0 20px;\r\n\t\tbox-sizing: border-box\r\n\t}\r\n\r\n\t.user-r-top {\r\n\t\tmargin-bottom: 13px;\r\n\t\twidth: 100%;\r\n\t\theight: 2rem;\r\n\t\tpadding: 20px 0;\r\n\t\tborder-bottom: 1px solid #b0b0b0;\r\n\t}\r\n\r\n\t.user-r-top>div {\r\n\t\tfloat: left;\r\n\t}\r\n\r\n\t.icon {\r\n\t\twidth: 60px;\r\n\t\theight: 60px;\r\n\t\tborder-radius: 50%;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.icon>img {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t.user-r-info {\r\n\t\tmargin-left: 10px\r\n\t}\r\n\r\n\t.user-r-info>h3 {\r\n\t\tfont-size: 16px;\r\n\t\tfont-weight: 400;\r\n\t\tcolor: #757575;\r\n\t}\r\n\r\n\t.user-r-info>p {\r\n\t\tfont-size: 12px;\r\n\t\tcolor: #b0b0b0;\r\n\t\tline-height: 20px;\r\n\t}\r\n\r\n\t.user-r-info>a {\r\n\t\tfont-size: 10px;\r\n\t\tcolor: $baseColor;\r\n\t\tline-height: 20px\r\n\t}\r\n\r\n\t// .user-r-zh>p{font-size: 12px;color:#b0b0b0;line-height: 18px }\r\n\r\n\t.user-r-bottom>div {\r\n\t\tpadding: 20px 0\r\n\t}\r\n\r\n\t.user-r-bottom .icon {\r\n\t\twidth: 44px;\r\n\t\theight: 44px;\r\n\t\tdisplay: inline-block;\r\n\t\tvertical-align: middle\r\n\t}\r\n\r\n\t.user-r-bottom .icon>img {\r\n\t\twidth: 100%;\r\n\t\theight: 100%\r\n\t}\r\n\r\n\t.user-r-bottom .user-r-info {\r\n\t\tdisplay: inline-block;\r\n\t\tvertical-align: middle\r\n\t}\r\n\r\n\t.user-r-bottom h3 {\r\n\t\tfont-size: 14px;\r\n\t\tfont-weight: 400;\r\n\t\tcolor: #757575\r\n\t}\r\n\r\n\t.user-r-bottom span {\r\n\t\tcolor: $baseColor\r\n\t}\r\n\r\n\t.user-r-bottom a {\r\n\t\tfont-size: 12px;\r\n\t\tcolor: #757575;\r\n\t}\r\n\r\n\t.van-grid-item__content--center {\r\n\t\tcolor: #ff6700;\r\n\t}\r\n\r\n\t.van-button {\r\n\t\tmargin: auto;\r\n\t}\r\n</style>\r\n"]}]}