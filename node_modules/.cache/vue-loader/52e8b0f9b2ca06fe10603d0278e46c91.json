{"remainingRequest":"F:\\前端\\mi\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\前端\\mi\\src\\pages\\Detail.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"F:\\前端\\mi\\src\\pages\\Detail.vue","mtime":1585554395527},{"path":"F:\\前端\\mi\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\前端\\mi\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"F:\\前端\\mi\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"F:\\前端\\mi\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\前端\\mi\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\前端\\mi\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5EZXRhaWwge3BhZGRpbmc6IDAgMTBweCA2MHB4IDEwcHg7bWFyZ2luLXRvcDogMXJlbTt9Ci5EZXRhaWxfd2FpcGVye3dpZHRoOiAxMDAlO2hlaWdodDo3cmVtO30KLkRldGFpbF9fcHJpY2V7cGFkZGluZzowIDE2cHg7IGNvbG9yOiRiYXNlQ29sb3I7bGluZS1oZWlnaHQ6IDI2cHg7Zm9udC13ZWlnaHQ6IDQwMDttYXJnaW4tYm90dG9tOiAxMHB4fQouRGV0YWlsX190aXRsZXtwYWRkaW5nOjAgMThweDsgZm9udC1zaXplOiAxNnB4O2ZvbnQtd2VpZ2h0OiA1MDA7bGluZS1oZWlnaHQ6IDMwcHh9Ci5EZXRhaWxfX2Rlc3twYWRkaW5nLWxlZnQ6IDE4cHg7IGNvbG9yOiNiMGIwYjB9Ci5EZXRhaWxfX3BhcmFtc3t3aWR0aDogODAlO21hcmdpbjogYXV0bzttYXJnaW4tdG9wOiAyMHB4fQouRGV0YWlsX19wYXJhbXM+aW1ne3dpZHRoOiAxMDAlfQouRGV0YWlsX19wYXJhbXN7Zm9udC1zaXplOiAxNHB4O30KLkRldGFpbF9fcGFyYW1zIGgyeyBmb250LXNpemU6IDE2cHg7bWFyZ2luLWJvdHRvbTogMTBweH0KLkRldGFpbF9fcGFyYW1zIGxpe2ZvbnQtc2l6ZTogMTJweDtsaW5lLWhlaWdodDogMjRweDtsaXN0LXN0eWxlOiBjaXJjbGV9Ci5EZXRhaWxfX3ByaWNlIC5vbGRqe2ZvbnQtc2l6ZTogMTRweDt9Ci5odWFiZWl7d2lkdGg6IDEwMCU7aGVpZ2h0OiAxLjJyZW07Ym9yZGVyLXRvcDoxcHggc29saWQgI2IwYjBiMDtib3JkZXItYm90dG9tOjFweCBzb2xpZCAjYjBiMGIwOyB9Ci5odWFiZWk+cHtkaXNwbGF5OiBpbmxpbmUtYmxvY2s7Zm9udC1zaXplOiAxNHB4O2xpbmUtaGVpZ2h0OiAxLjJyZW07fQouaHVhYmVpPnNwYW57ZGlzcGxheTogaW5saW5lLWJsb2NrO3BhZGRpbmc6MCAyMHB4O2ZvbnQtc2l6ZTogMTRweDtjb2xvcjogIzRBNEE0QTt9Cg=="},{"version":3,"sources":["Detail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Detail.vue","sourceRoot":"src/pages","sourcesContent":["<template>\r\n\t<div class=\"Detail\" v-if='goodsDetail'>\r\n\t\t<Back/>\r\n\t\t<div class=\"Detail_waiper\">\r\n\t\t\t<Swiper \r\n\t\t\tclass=\"Detail__top\" \r\n\t\t\t:list=\"goodsDetail.img\"\r\n\t\t\tapiName='banner'\r\n\t\t\t/>\r\n\t\t</div>\r\n\t\t<div >\r\n\t\t\t<h2 class=\"Detail__price\"> <span class=\"newj\">￥{{goodsDetail.price.newj}}元</span><span class=\"oldj\">￥{{goodsDetail.price.oldj}}元</span> &nbsp;&nbsp;\r\n\t\t\t\t<van-tag plain type=\"warning\">Hot</van-tag>\r\n\t\t\t</h2>\r\n\t\t\t<h2 class=\"Detail__title\">{{goodsDetail.title}} \r\n\t\t\t<van-rate\r\n\t\t\t\tstyle='float: right;'\r\n\t\t\t\tv-model=\"4.5\"\r\n\t\t\t\tcolor=\"#ee0a24\"\r\n\t\t\t\tallow-half\r\n\t\t\t\tvoid-icon=\"star\"\r\n\t\t\t\tvoid-color=\"#eee\"\r\n\t\t\t/>\r\n\t\t\t</h2>\r\n\t\t\t<p class=\"Detail__des\"> {{goodsDetail.des}}</p>\r\n\t\t</div>\r\n\t\t<div style=\"height: 10px;background: #f7f7f7;margin-top: 20px;\"></div>\r\n\t\t<div class=\"huabei\" style=\"margin-top: 10px;border: none;\">\r\n\t\t\t<span>活动</span>\r\n\t\t\t<p style=\"color: #ff6700;\">[3月17日-3月22日品质家电特惠]</p>\r\n\t\t</div>\r\n\t\t<div class=\"huabei\" >\r\n\t\t\t<span>分期</span>\r\n\t\t\t<p>花呗分期/白条分期</p>\r\n\t\t\t<van-icon style='float: right;margin-top:0.4rem;' name=\"arrow\" />\r\n\t\t</div>\r\n\t\t<div class=\"Detail__params\">\r\n\t\t\t<img :src=\"$baseUrl+ '/img/'+detailImg\" alt=\"\">\r\n\t\t\t<ul>\r\n\t\t\t\t<h2>{{detailInfo.title}}</h2>\r\n\t\t\t\t<li>{{detailInfo.info1}}</li>\r\n\t\t\t\t<li>{{detailInfo.info2}}</li>\r\n\t\t\t\t<li>{{detailInfo.info3}}</li>\r\n\t\t\t\t<li>{{detailInfo.info4}}</li>\r\n\t\t\t\t<li>{{detailInfo.info5}}</li>\r\n\t\t\t\t<li>{{detailInfo.info6}}</li>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t\t<div style=\"height: 10px;background: #f7f7f7;margin-top: 20px;\"></div>\r\n\t\t<Foot style=\"margin:0 -15px;\"/>\r\n \r\n\t\t<van-goods-action style='border-top: 1px solid #B0B0B0;'>\r\n\t\t\t<van-goods-action-icon icon=\"shop-o\" color=\"#ff6700\" text=\"店铺\" />\r\n\t\t\t<van-goods-action-icon icon=\"chat-o\" :color=\"chatColor\" @click=\"chatColor='#ff6700'\" text=\"客服\" />\r\n\t\t\t<van-goods-action-icon :icon=\"iconStart\" :color=\"iconColor\" text=\"收藏\" @click='collection' />\r\n\t\t\t<van-goods-action-button type=\"warning\" text=\"加入购物车\" @click='showSku' />\r\n\t\t\t<van-goods-action-button type=\"danger\" text=\"立即购买\" @click='showSku'/>\r\n\t\t</van-goods-action>\r\n\r\n\t\t<van-sku \r\n\t\t\tv-model=\"show\" \r\n\t\t\t:sku=\"sku\" \r\n\t\t\t:goods=\"goods\" \r\n\t\t\t:goods-id=\"goodsDetail._id\" \r\n\t\t\t:hide-stock=\"sku.hide_stock\" \r\n\t\t\t:properties='properties'\r\n\t\t\t:close-on-click-overlay='true' \r\n\t\t\t:initial-sku='initialSku' \r\n\t\t\t@buy-clicked=\"onBuyClicked\" \r\n\t\t\t@stepper-change=\"onNumChange\"\r\n\t\t\t@sku-selected=\"onGuigeChange\"\r\n\t\t\t@add-cart=\"onAddCartClicked(addCartGoods)\"\r\n\t\t\t@sku-prop-selected=\"onShuxingChange\"\r\n\t\t\t />\r\n\t\t\t \r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport Back from '../components/Back/Back.vue'\r\n\timport Swiper from '../components/Swiper.vue'\r\n\timport Foot from '../layouts/Foot.vue'\r\n\timport { Toast } from 'vant';\r\n\timport {mapMutations} from \"vuex\"\r\n\texport default {\r\n\t\tname: 'Detail',\r\n\t\tprops: {},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ticonColor:'#323233',\r\n\t\t\t\tchatColor:'#323233',\r\n\t\t\t\ticonStart:'star-o',\r\n\t\t\t\tgoodsDetail:null,\r\n\t\t\t\taddCartGoods:{\r\n\t\t\t\t\t\t\"price\":\"\",\r\n\t\t\t\t\t\t\"desc\":\"\",\r\n\t\t\t\t\t\t\"title\":\"\",\r\n\t\t\t\t\t\t\"img\":\"\",\r\n\t\t\t\t\t\t\"opt1\":\"\",\r\n\t\t\t\t\t\t\"opt2\":\"\",\r\n\t\t\t\t\t\t\"num\":1,\r\n\t\t\t\t\t\t\"checked\":true\r\n\t\t\t\t},\r\n\t\t\t\tshow: false,\r\n\t\t\t\tdetailInfo:null,\r\n\t\t\t\tdetailImg:\"\",\r\n\t\t\t\tgoodsId: '33333',\r\n\t\t\t\tsku: {\r\n\t\t\t\t\ttree: [{\r\n\t\t\t\t\t\tk: '机身颜色', // skuKeyName：规格类目名称\r\n\t\t\t\t\t\tv: [],\r\n\t\t\t\t\t\tk_s: 's1', // skuKeyStr：sku 组合列表（下方 list）中当前类目对应的 key 值，value 值会是从属于当前类目的一个规格值 id\r\n\t\t\t\t\t}],\r\n\t\t\t\t\t// 所有 sku 的组合列表，比如红色、M 码为一个 sku 组合，红色、S 码为另一个组合\r\n\t\t\t\t\tlist: [],\r\n\t\t\t\t\tprice:\"\", // 默认价格（单位元）\r\n\t\t\t\t\tstock_num: 400, // 商品总库存\r\n\t\t\t\t\tcollection_id: 2261, // 无规格商品 skuId 取 collection_id，否则取所选 sku 组合对应的 id\r\n\t\t\t\t\tnone_sku: false, // 是否无规格商品\r\n\t\t\t\t\thide_stock: false, // 是否隐藏剩余库存\r\n\t\t\t\t},\r\n\t\t\t\tproperties: [ // 商品属性\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tk_id: 123, // 属性id\r\n\t\t\t\t\t\tk: '选择规则', // 属性名\r\n\t\t\t\t\t\tis_multiple: false, // 是否可多选\r\n\t\t\t\t\t\tv: []\r\n\t\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tinitialSku: {\r\n\t\t\t\t\t// 初始选中数量\r\n\t\t\t\t\tselectedNum: 1,\r\n\t\t\t\t\tselectedProp: {\r\n\t\t\t\t\t\t123: [1222]\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tskuData: {\r\n\t\t\t\t\tgoodsId: '946755',\r\n\t\t\t\t\tmessages: {\r\n\t\t\t\t\t\tmessage_0: '12',\r\n\t\t\t\t\t\tmessage_1: ''\r\n\t\t\t\t\t},\r\n\t\t\t\t\t// 选择的商品数量\r\n\t\t\t\t\tselectedNum: 1,\r\n\t\t\t\t\t// 选择的 sku 组合\r\n\t\t\t\t\t\r\n\t\t\t\t},\r\n\t\t\t\tgoods: {\r\n\t\t\t\t\tpicture: ''\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {Swiper,Back,Foot},\r\n\t\tmounted() {\r\n\t\t\t let apiname=this.$route.query.apiName;\r\n\t\t\t let _id = this.$route.params._id\r\n\t\t\tthis.$axios({\r\n\t\t\t\turl:'/api/goods/'+ apiname + '/' + _id\r\n\t\t\t}).then(\r\n\t\t\t\tres=>{\r\n\t\t\t\t\tthis.ImgList =res.data.data.img;\r\n\t\t\t\t\tthis.goodsDetail=res.data.data;\r\n\t\t\t\t\tthis.addCartGoods.title=res.data.data.title;\r\n\t\t\t\t\tthis.addCartGoods.desc=res.data.data.desc;\r\n\t\t\t\t\tthis.sku.price=this.addCartGoods.price=res.data.data.price.newj;\r\n\t\t\t\t\tthis.goods.picture=this.addCartGoods.img=this.$baseUrl+'/img/'+res.data.data.imgage;\r\n\t\t\t\t\tthis.detailImg =res.data.data.detailImg;\r\n\t\t\t\t\tthis.detailInfo = res.data.data.detailInfo;\r\n\t\t\t\t\tfor(let j=0;j<res.data.data.color.length;j++){\r\n\t\t\t\t\t\tthis.sku.list.push({\r\n\t\t\t\t\t\t\tid: 2259, \r\n\t\t\t\t\t\t\tprice: res.data.data.price.newj*100, \r\n\t\t\t\t\t\t\ts1: '000', \r\n\t\t\t\t\t\t\ts2: '0', \r\n\t\t\t\t\t\t\ts3: '0', \r\n\t\t\t\t\t\t\tstock_num: 190 \r\n\t\t\t\t\t})\r\n\t\t\t\t\t\tthis.sku.tree[0].v.push({id:\"00\"+j,name:res.data.data.color[j],imgUrl:this.$baseUrl+'/img/'+ res.data.data.img[j],previewImgUrl:this.$baseUrl+'/img/'+res.data.data.img[j]})\r\n\t\t\t\t\t};\r\n\t\t\t\t\tfor(let k=0;k<res.data.data.opt.length;k++){\r\n\t\t\t\t\t\tthis.properties[0].v.push({id:\"00\"+k,name: res.data.data.opt[k], price: 20000*(k)})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\r\n\t\t},\r\n\t\tupdated() {},\r\n\t\tmethods: {\r\n\t\t\t...mapMutations(\"cart\",[\"ADD_CART\"]),\r\n\t\t\tonNumChange(data){\r\n\t\t\t\t\r\n\t\t\t\tthis.addCartGoods.num = data\r\n\t\t\t},\r\n\t\t\tonGuigeChange(data){\r\n\t\t\t\tthis.addCartGoods.opt1=data.skuValue.name\r\n\t\t\t},\r\n\t\t\tonShuxingChange(data){\r\n\t\t\t\tthis.addCartGoods.opt2=data.propValue.name\r\n\t\t\t},\r\n\t\t\tonBuyClicked() {},\r\n\t\t\tonAddCartClicked(item) {\r\n\t\t\t\tthis.ADD_CART(item)\r\n\t\t\t\tlet {price,desc,title,img,opt1,opt2,num,checked} = this.addCartGoods\r\n\t\t\t\tthis.$axios({\r\n\t\t\t\t\turl:'/api/addcart',\r\n\t\t\t\t\tmethod:\"post\",\r\n\t\t\t\t\tdata:{price,desc,title,img,opt1,opt2,num,checked},\r\n\t\t\t\t}).then(\r\n\t\t\t\t\tres=>\t{\r\n\t\t\t\t\t\tif(res.data.err==0){\r\n\t\t\t\t\t\t\tToast.success('加入成功');\r\n\t\t\t\t\t\t\tthis.$router.push('/cart')\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tconsole.log(\"nb\",res.data.msg);\r\n\t\t\t\t\t\t\tthis.$router.push('/cart')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t).catch(\r\n\t\t\t\t\terr => {\r\n\t\t\t\t\t\tconsole.log(\"jj\",err)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t\tshowSku() {\r\n\t\t\t\tthis.show = true;\r\n\t\t\t},\r\n\t\t\tonEdit(){},\r\n\t\t\t//点击收藏收藏\r\n\t\t\tcollection(){\r\n\t\t\t\tif(this.iconStart=='star-o'){\r\n\t\t\t\t\tthis.iconStart='star';\r\n\t\t\t\t\tthis.iconColor='#ff6700';\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.iconStart='star-o';\r\n\t\t\t\t\tthis.iconColor='#323233';\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.Detail {padding: 0 10px 60px 10px;margin-top: 1rem;}\r\n\t.Detail_waiper{width: 100%;height:7rem;}\r\n\t.Detail__price{padding:0 16px; color:$baseColor;line-height: 26px;font-weight: 400;margin-bottom: 10px}\r\n\t.Detail__title{padding:0 18px; font-size: 16px;font-weight: 500;line-height: 30px}\r\n\t.Detail__des{padding-left: 18px; color:#b0b0b0}\r\n\t.Detail__params{width: 80%;margin: auto;margin-top: 20px}\r\n\t.Detail__params>img{width: 100%}\r\n\t.Detail__params{font-size: 14px;}\r\n\t.Detail__params h2{ font-size: 16px;margin-bottom: 10px}\r\n\t.Detail__params li{font-size: 12px;line-height: 24px;list-style: circle}\r\n\t.Detail__price .oldj{font-size: 14px;}\r\n\t.huabei{width: 100%;height: 1.2rem;border-top:1px solid #b0b0b0;border-bottom:1px solid #b0b0b0; }\r\n\t.huabei>p{display: inline-block;font-size: 14px;line-height: 1.2rem;}\r\n\t.huabei>span{display: inline-block;padding:0 20px;font-size: 14px;color: #4A4A4A;}\r\n</style>\r\n"]}]}