{"remainingRequest":"F:\\前端\\mi\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\前端\\mi\\node_modules\\bm-vlogin\\components\\bm_phone_login\\bm_phone_login.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\前端\\mi\\node_modules\\bm-vlogin\\components\\bm_phone_login\\bm_phone_login.vue","mtime":499162500000},{"path":"F:\\前端\\mi\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\前端\\mi\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\前端\\mi\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\前端\\mi\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIOaMiemcgOW8leWFpemDqOWIhue7hOS7tgppbXBvcnQgeyBUb2FzdCB9IGZyb20gJ21pbnQtdWknOwppbXBvcnQgJ21pbnQtdWkvbGliL3N0eWxlLmNzcycKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJibV9waG9uZV9sb2dpbiIsCiAgICBkYXRhKCl7CiAgICAgICAgcmV0dXJuewogICAgICAgICAgICAvL+eUqOaIt+i+k+WFpeS/oeaBrwogICAgICAgICAgICBpbnB1dF9pbmZvOnsKICAgICAgICAgICAgICAgIHBob25lOiIiLAogICAgICAgICAgICAgICAgY29kZToiIiwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgLy/lgJLorqHml7YKICAgICAgICAgICAgY291bnREb3duVGltZTo2MCwKICAgICAgICAgICAgdGltZU91dDp0cnVlLAogICAgICAgICAgICB0aW1lcjpudWxsLAogICAgICAgICAgICAvL+iBmueEpu+8iOWIh+aNouagt+W8j++8iQogICAgICAgICAgICBpc0ZvY3VzOnsKICAgICAgICAgICAgICAgIHBob25lTnVtOmZhbHNlLAogICAgICAgICAgICAgICAgY29kZTpmYWxzZQogICAgICAgICAgICB9LAogICAgICAgICAgICAvL+mUmeivr+S/oeaBrwogICAgICAgICAgICBlcnJvckZsYWc6ewogICAgICAgICAgICAgICAgcGhvbmVfZW1wdHk6ZmFsc2UsCiAgICAgICAgICAgICAgICBwaG9uZV9lcnI6ZmFsc2UsCiAgICAgICAgICAgICAgICBjb2RlX2VtcHR5OmZhbHNlLAogICAgICAgICAgICAgICAgY29kZV9lcnI6ZmFsc2UKICAgICAgICAgICAgfSwKICAgICAgICAgICAgLy/nmbvlvZXmjInpkq7npoHnlKgKICAgICAgICAgICAgaXNMb2dpbkZvcmJpZGRlbjp0cnVlLAogICAgICAgICAgICAvLyDojrflj5bpqozor4HnoIHmjInpkq7npoHnlKgKICAgICAgICAgICAgZ2V0Q29kZURpc2FibGVkOiB0cnVlLAogICAgICAgICAgICAvLyDojrflj5bpqozor4HnoIHmjInpkq7mloflrZcKICAgICAgICAgICAgZ2V0Q29kZUJ0blRleHQ6ICLojrflj5bpqozor4HnoIEiLAogICAgICAgICAgICAvL+ino+WGs+WuieWNk+i+k+WFpeahhuWwhmZpeGVk5biD5bGA6aG25LiK55qE6Zeu6aKYCiAgICAgICAgICAgIGhpZGVGb290ZXI6dHJ1ZSwKICAgICAgICAgICAgZG9jbUhlaWdodDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCB8fCBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodCwKICAgICAgICAgICAgc2hvd0hlaWdodDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCB8fCBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodCwKICAgICAgICB9CiAgICB9LAoKICAgIHdhdGNoOiB7CiAgICAgICAgLy/nm5HlkKzmmL7npLrpq5jluqYKICAgICAgICBzaG93SGVpZ2h0OmZ1bmN0aW9uKCkgewogICAgICAgICAgICB0aGlzLmhpZGVGb290ZXIgPSB0aGlzLmRvY21IZWlnaHQgPD0gdGhpcy5zaG93SGVpZ2h0OwogICAgICAgIH0KICAgIH0sCgogICAgcHJvcHM6WydiYXNlQ29uZmlnJ10sCiAgICBjb21wdXRlZDp7CiAgICAgICAgLy/lkIjlubbniLbnu4Tku7bnmoTkvKDlhaXlgLzkuI7pu5jorqTlgLwKICAgICAgICBtQ29uZmlncygpewogICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7CiAgICAgICAgICAgICAgICBhY2NvdW50TG9naW46dHJ1ZSwKICAgICAgICAgICAgICAgIGNoYW5nZWRQaG9uZTogdHJ1ZSwKICAgICAgICAgICAgICAgIHByb3RvY29sOiB0cnVlLAogICAgICAgICAgICAgICAgb3RoZXJMb2dpbldheXM6IHRydWUsCiAgICAgICAgICAgICAgICBjb2RlX2xlbmd0aDo0LAogICAgICAgICAgICAgICAgbG9naW5fYnRuX3ZhbHVlOifnmbvlvZUnCiAgICAgICAgICAgIH0sdGhpcy5iYXNlQ29uZmlnKQogICAgICAgIH0KICAgIH0sCgogICAgbW91bnRlZCgpIHsKICAgICAgICAvL+ebkeWQrOS6i+S7tgogICAgICAgIHdpbmRvdy5vbnJlc2l6ZSA9ICgpPT57CiAgICAgICAgICAgIHJldHVybigoKT0+ewogICAgICAgICAgICAgICAgdGhpcy5zaG93SGVpZ2h0ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCB8fCBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodDsKICAgICAgICAgICAgfSkoKQogICAgICAgIH0KICAgIH0sCgogICAgbWV0aG9kczp7CiAgICAgICAgaW5wdXRQaG9uZSgpewogICAgICAgICAgICAvL+i+k+WFpeaJi+acuuWPt+aXtu+8jGtleXVw5LqL5Lu2CiAgICAgICAgICAgIGxldCB2YWx1ZSA9IHRoaXMuaW5wdXRfaW5mby5waG9uZS5yZXBsYWNlKC9cRC9nLCAnJykuc3Vic3RyKDAsIDExKTsgLy8g5LiN5YWB6K646L6T5YWl6Z2e5pWw5a2X5a2X56ym77yM6LaF6L+HMTHkvY3mlbDlrZfmiKrlj5bliY0xMeS9jQogICAgICAgICAgICBsZXQgbGVuID0gdmFsdWUubGVuZ3RoOwogICAgICAgICAgICAvL+WIpOepugogICAgICAgICAgICBsZXQgcGhvbmVfbnVtID0gdGhpcy5pbnB1dF9pbmZvLnBob25lOwogICAgICAgICAgICB0aGlzLmVycm9yRmxhZy5waG9uZV9lbXB0eSA9IHBob25lX251bSA9PT0gIiIgfHwgcGhvbmVfbnVtID09PSBudWxsIHx8IHBob25lX251bSA9PT0gdW5kZWZpbmVkOwogICAgICAgICAgICAvL+WIpOaWreaJi+acuuWPt+agvOW8j+aYr+WQpuato+ehrgogICAgICAgICAgICB0aGlzLmVycm9yRmxhZy5waG9uZV9lcnIgPSAhKC9eMVszNDU2Nzg5XVxkXHNcZHs0fVxzXGR7NH0kLy50ZXN0KHBob25lX251bSkpICYmICF0aGlzLmVycm9yRmxhZy5waG9uZV9lbXB0eTsKICAgICAgICAgICAgaWYgKGxlbiA+IDMgJiYgbGVuIDwgOCkgewogICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC9eKFxkezN9KS9nLCAnJDEgJykKICAgICAgICAgICAgfSBlbHNlIGlmIChsZW4gPj0gOCkgewogICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC9eKFxkezN9KShcZHs0fSkvZywgJyQxICQyICcpCiAgICAgICAgICAgICAgICBpZiAobGVuID09PSAxMSkgewogICAgICAgICAgICAgICAgICAgIGlmICghKHRoaXMuZXJyb3JGbGFnLnBob25lX2VtcHR5IHx8IHRoaXMuZXJyb3JGbGFnLnBob25lX2VycikgJiYgdGhpcy50aW1lT3V0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8v5r+A5rS76I635Y+W6aqM6K+B56CB5oyJ6ZKuCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0Q29kZURpc2FibGVkID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRDb2RlRGlzYWJsZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRDb2RlRGlzYWJsZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuaW5wdXRfaW5mby5waG9uZSA9IHZhbHVlOwogICAgICAgIH0sCgogICAgICAgIGNob29zZUFyZWEoKXsKICAgICAgICAgICAgdGhpcy4kcmVmcy5waG9uZU51bS5ibHVyKCk7CiAgICAgICAgICAgIHNldFRpbWVvdXQoKCk9PnsKICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ3BhcmVudF9jaG9vc2VfYXJlYScpOwogICAgICAgICAgICB9LDUwMCk7CiAgICAgICAgfSwKCiAgICAgICAgZm9jdXModHlwZSl7CiAgICAgICAgICAgIHRoaXMuaXNMb2dpbkZvcmJpZGRlbiA9IHRydWU7CiAgICAgICAgICAgIGlmICh0eXBlID09PSAicGhvbmVOdW0iKXsKICAgICAgICAgICAgICAgIHRoaXMuaXNGb2N1cy5waG9uZU51bSA9IHRydWU7CiAgICAgICAgICAgICAgICB0aGlzLmVycm9yRmxhZy5waG9uZV9lbXB0eSA9IGZhbHNlOwogICAgICAgICAgICB9IGlmICh0eXBlID09PSAiY29kZSIpewogICAgICAgICAgICAgICAgdGhpcy5pc0ZvY3VzLmNvZGUgPSB0cnVlOwogICAgICAgICAgICAgICAgdGhpcy5lcnJvckZsYWcuY29kZV9lbXB0eSA9IGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBibHVyKHR5cGUpIHsKICAgICAgICAgICAgaWYgKHR5cGUgPT09ICJwaG9uZU51bSIpIHsKICAgICAgICAgICAgICAgIHRoaXMuaXNGb2N1cy5waG9uZU51bSA9IGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICh0eXBlID09PSAiY29kZSIpIHsKICAgICAgICAgICAgICAgIHRoaXMuaXNGb2N1cy5jb2RlID0gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKuiOt+WPlumqjOivgeeggSoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwogICAgICAgIGdldFZlcmlmeUNvZGUoKXsKICAgICAgICAgICAgbGV0IHRoYXQgPSB0aGlzOwogICAgICAgICAgICBsZXQgaW5wdXRfcGhvbmUgPSB0aGlzLmlucHV0X2luZm8ucGhvbmUucmVwbGFjZSgvXHMqL2csIiIpOyAgICAgIC8v5Y676Zmk56m65qC8CiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ3BhcmVudF9nZXRfY29kZScsaW5wdXRfcGhvbmUpOwogICAgICAgICAgICB0aGlzLnRpbWVPdXQgPSBmYWxzZTsKICAgICAgICAgICAgLy/lgJLorqHml7YKICAgICAgICAgICAgaWYgKCF0aGlzLmVycm9yRmxhZy5waG9uZV9lcnIgJiYgIXRoaXMuZXJyb3JGbGFnLnBob25lX2VtcHR5KXsKICAgICAgICAgICAgICAgIFRvYXN0KHsKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn6aqM6K+B56CB5bey5Y+R6YCBJywKICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ21pZGRsZScsCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHRoaXMudGltZXIgPSBzZXRJbnRlcnZhbCgoKT0+ewogICAgICAgICAgICAgICAgICAgIHRoYXQuY291bnREb3duVGltZS0tOwogICAgICAgICAgICAgICAgICAgIC8vIHRoYXQuZ2V0Q29kZUJ0blRleHQgPSB0aGlzLmNvdW50RG93blRpbWUgKyAic+WQjumHjeaWsOiOt+WPliI7CiAgICAgICAgICAgICAgICAgICAgdGhhdC5nZXRDb2RlQnRuVGV4dCA9IHRoaXMuY291bnREb3duVGltZSArICLnp5IiOwogICAgICAgICAgICAgICAgICAgIHRoYXQuZ2V0Q29kZURpc2FibGVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBpZih0aGF0LmNvdW50RG93blRpbWUgPD0gMCl7CiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuY291bnREb3duVGltZSA9IDYwOwogICAgICAgICAgICAgICAgICAgICAgICB0aGF0LnRpbWVPdXQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmdldENvZGVEaXNhYmxlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGF0LiRyZWZzLmdldENvZGUucmVtb3ZlQXR0cmlidXRlKCJkaXNhYmxlZCIpOwogICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGF0LiRyZWZzLmdldENvZGUudmFsdWUgPSAi6I635Y+W6aqM6K+B56CBIjsKICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5nZXRDb2RlQnRuVGV4dCA9ICLojrflj5bpqozor4HnoIEiOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sMTAwMCkKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoYXQuZXJyb3JGbGFnLnBob25lX2VtcHR5ID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgYWN0aXZlTG9naW4oKXsKICAgICAgICAgICAgLy/liKTnqboKICAgICAgICAgICAgbGV0IGNvZGUgPSB0aGlzLmlucHV0X2luZm8uY29kZTsKICAgICAgICAgICAgdGhpcy5lcnJvckZsYWcuY29kZV9lbXB0eSA9IGNvZGUgPT09ICIiIHx8IGNvZGUgPT09IG51bGwgfHwgY29kZSA9PT0gdW5kZWZpbmVkOwogICAgICAgICAgICBpZiAoY29kZSAmJiBjb2RlLmxlbmd0aCA9PT0gdGhpcy5tQ29uZmlncy5jb2RlX2xlbmd0aCkgewogICAgICAgICAgICAgICAgLy/mv4DmtLvnmbvlvZXmjInpkq4KICAgICAgICAgICAgICAgIHRoaXMuaXNMb2dpbkZvcmJpZGRlbiA9IHRoaXMuZXJyb3JGbGFnLnBob25lX2VtcHR5IHx8IHRoaXMuZXJyb3JGbGFnLnBob25lX2VyciB8fCB0aGlzLmVycm9yRmxhZy5jb2RlX2VtcHR5OwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq55m75b2VKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KICAgICAgICBsb2dpbigpewogICAgICAgICAgICBpZiAoIXRoaXMuaXNMb2dpbkZvcmJpZGRlbil7CiAgICAgICAgICAgICAgICAvL+WOu+mZpOepuuagvAogICAgICAgICAgICAgICAgdGhpcy5pbnB1dF9pbmZvLnBob25lID0gdGhpcy5pbnB1dF9pbmZvLnBob25lLnJlcGxhY2UoL1xzKi9nLCIiKTsKICAgICAgICAgICAgICAgIC8v55So5oi36K6+572u5Ye95pWwCiAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCdwYXJlbnRfcGhvbmVfbG9naW4nLHRoaXMuaW5wdXRfaW5mbyk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9LAogICAgYmVmb3JlRGVzdHJveSgpewogICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7CiAgICAgICAgdGhpcy50aW1lciA9IG51bGw7CiAgICB9LAp9Cg=="},{"version":3,"sources":["bm_phone_login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0DA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"bm_phone_login.vue","sourceRoot":"node_modules/bm-vlogin/components/bm_phone_login","sourcesContent":["<template>\r\n    <div class=\"phoneLogin\">\r\n        <slot name=\"header\">\r\n            <h2>手机登录</h2>\r\n        </slot>\r\n        <div class=\"input_wrapper\">\r\n            <div class=\"inputItem\" :class=\"{'focus':isFocus.phoneNum,'phone_empty':errorFlag.phone_empty,'phone_error':errorFlag.phone_err}\">\r\n                <span class=\"chooseArea\" @click=\"chooseArea()\">\r\n                    <slot name=\"country_tel\">+86</slot>\r\n                    <span><svg t=\"1566640213388\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"2787\" width=\"18\" height=\"18\"><path d=\"M512 721.5c-4.6 0-9.2-1.8-12.7-5.3l-383.1-383c-7-7-7-18.4 0-25.5s18.4-7 25.5 0L512 678.1l370.3-370.3c7-7 18.4-7 25.5 0 7 7 7 18.4 0 25.5l-383.1 383c-3.5 3.5-8.1 5.2-12.7 5.2z\" p-id=\"2788\"></path></svg></span>\r\n                </span>\r\n                <div class=\"inputContent\">\r\n                    <input type=\"text\" @focus=\"focus('phoneNum')\" @blur=\"blur('phoneNum')\" ref=\"phoneNum\" placeholder=\"请输入手机号\" v-model=\"input_info.phone\" @keyup=\"inputPhone\" maxlength=\"13\" autofocus>\r\n                </div>\r\n            </div>\r\n            <div class=\"inputItem codeInput\" :class=\"{'focus':isFocus.code,'code_empty':errorFlag.code_empty,'code_error':errorFlag.code_err}\">\r\n                <div class=\"inputContent \">\r\n                    <input id=\"input_code\" @focus=\"focus('code')\" @blur=\"blur('code')\" @keyup=\"activeLogin()\" ref=\"code\" placeholder=\"请输入验证码\" v-model=\"input_info.code\" :maxlength=\"mConfigs.code_length\">\r\n                </div>\r\n                <div class=\"getCodeBtn\">\r\n                    <button @click=\"getVerifyCode()\" ref=\"getCode\" :disabled=\"getCodeDisabled\">{{getCodeBtnText}}</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div>\r\n            <button :class=\"{'opt_button':!isLoginForbidden,'forbidden':isLoginForbidden}\" class=\"loginBtn\" :disabled=\"isLoginForbidden\" @click=\"login()\">\r\n                {{mConfigs.login_btn_value}}\r\n            </button>\r\n        </div>\r\n        <button v-if=\"mConfigs.accountLogin\" class=\"accountLogin\" @click=\"$emit('accountLogin')\">\r\n            用账号密码登录\r\n        </button>\r\n        <div class=\"tips\">\r\n            <div v-if=\"mConfigs.changedPhone\" class=\"changedPhone\" @click=\"$emit('changedPhone')\">\r\n                手机号已更换\r\n            </div>\r\n        </div>\r\n        <div class=\"otherLoginWays\" v-if=\"mConfigs.otherLoginWays\" v-show=\"hideFooter\">\r\n            <div class=\"otherWayTextWrapper\">\r\n                <div class=\"otherWayText\">其他登录方式</div>\r\n            </div>\r\n            <div class=\"icons\">\r\n                <slot name=\"otherLoginWays_icons\">\r\n                    <img class=\"icon\" src=\"../assets/images/icon_QQ.png\" @click=\"$emit('qq_login')\" alt=\"qqLogin\">\r\n                    <img class=\"icon\" src=\"../assets/images/icon_weixin.png\" @click=\"$emit('weixin_login')\" alt=\"weixinLogin\">\r\n                    <img class=\"icon\" src=\"../assets/images/icon_weibo.png\" @click=\"$emit('weibo_login')\" alt=\"weiboLogin\">\r\n                </slot>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"protocol\" v-if=\"mConfigs.protocol\" v-show=\"hideFooter\">\r\n            登录注册即代表阅读并同意<span @click=\"$emit('toProtocol')\">用户服务协议</span>\r\n        </div>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    // 按需引入部分组件\r\n    import { Toast } from 'mint-ui';\r\n    import 'mint-ui/lib/style.css'\r\n\r\n    export default {\r\n        name: \"bm_phone_login\",\r\n        data(){\r\n            return{\r\n                //用户输入信息\r\n                input_info:{\r\n                    phone:\"\",\r\n                    code:\"\",\r\n                },\r\n                //倒计时\r\n                countDownTime:60,\r\n                timeOut:true,\r\n                timer:null,\r\n                //聚焦（切换样式）\r\n                isFocus:{\r\n                    phoneNum:false,\r\n                    code:false\r\n                },\r\n                //错误信息\r\n                errorFlag:{\r\n                    phone_empty:false,\r\n                    phone_err:false,\r\n                    code_empty:false,\r\n                    code_err:false\r\n                },\r\n                //登录按钮禁用\r\n                isLoginForbidden:true,\r\n                // 获取验证码按钮禁用\r\n                getCodeDisabled: true,\r\n                // 获取验证码按钮文字\r\n                getCodeBtnText: \"获取验证码\",\r\n                //解决安卓输入框将fixed布局顶上的问题\r\n                hideFooter:true,\r\n                docmHeight: document.documentElement.clientHeight || document.body.clientHeight,\r\n                showHeight: document.documentElement.clientHeight || document.body.clientHeight,\r\n            }\r\n        },\r\n\r\n        watch: {\r\n            //监听显示高度\r\n            showHeight:function() {\r\n                this.hideFooter = this.docmHeight <= this.showHeight;\r\n            }\r\n        },\r\n\r\n        props:['baseConfig'],\r\n        computed:{\r\n            //合并父组件的传入值与默认值\r\n            mConfigs(){\r\n                return Object.assign({\r\n                    accountLogin:true,\r\n                    changedPhone: true,\r\n                    protocol: true,\r\n                    otherLoginWays: true,\r\n                    code_length:4,\r\n                    login_btn_value:'登录'\r\n                },this.baseConfig)\r\n            }\r\n        },\r\n\r\n        mounted() {\r\n            //监听事件\r\n            window.onresize = ()=>{\r\n                return(()=>{\r\n                    this.showHeight = document.documentElement.clientHeight || document.body.clientHeight;\r\n                })()\r\n            }\r\n        },\r\n\r\n        methods:{\r\n            inputPhone(){\r\n                //输入手机号时，keyup事件\r\n                let value = this.input_info.phone.replace(/\\D/g, '').substr(0, 11); // 不允许输入非数字字符，超过11位数字截取前11位\r\n                let len = value.length;\r\n                //判空\r\n                let phone_num = this.input_info.phone;\r\n                this.errorFlag.phone_empty = phone_num === \"\" || phone_num === null || phone_num === undefined;\r\n                //判断手机号格式是否正确\r\n                this.errorFlag.phone_err = !(/^1[3456789]\\d\\s\\d{4}\\s\\d{4}$/.test(phone_num)) && !this.errorFlag.phone_empty;\r\n                if (len > 3 && len < 8) {\r\n                    value = value.replace(/^(\\d{3})/g, '$1 ')\r\n                } else if (len >= 8) {\r\n                    value = value.replace(/^(\\d{3})(\\d{4})/g, '$1 $2 ')\r\n                    if (len === 11) {\r\n                        if (!(this.errorFlag.phone_empty || this.errorFlag.phone_err) && this.timeOut) {\r\n                            //激活获取验证码按钮\r\n                            this.getCodeDisabled = false;\r\n                        } else {\r\n                            this.getCodeDisabled = true;\r\n                        }\r\n                    } else {\r\n                        this.getCodeDisabled = true;\r\n                    }\r\n                }\r\n                this.input_info.phone = value;\r\n            },\r\n\r\n            chooseArea(){\r\n                this.$refs.phoneNum.blur();\r\n                setTimeout(()=>{\r\n                    this.$emit('parent_choose_area');\r\n                },500);\r\n            },\r\n\r\n            focus(type){\r\n                this.isLoginForbidden = true;\r\n                if (type === \"phoneNum\"){\r\n                    this.isFocus.phoneNum = true;\r\n                    this.errorFlag.phone_empty = false;\r\n                } if (type === \"code\"){\r\n                    this.isFocus.code = true;\r\n                    this.errorFlag.code_empty = false;\r\n                }\r\n            },\r\n            blur(type) {\r\n                if (type === \"phoneNum\") {\r\n                    this.isFocus.phoneNum = false;\r\n                }\r\n                if (type === \"code\") {\r\n                    this.isFocus.code = false;\r\n                }\r\n            },\r\n            /**************************************************************获取验证码**************************************************************/\r\n            getVerifyCode(){\r\n                let that = this;\r\n                let input_phone = this.input_info.phone.replace(/\\s*/g,\"\");      //去除空格\r\n                this.$emit('parent_get_code',input_phone);\r\n                this.timeOut = false;\r\n                //倒计时\r\n                if (!this.errorFlag.phone_err && !this.errorFlag.phone_empty){\r\n                    Toast({\r\n                        message: '验证码已发送',\r\n                        position: 'middle',\r\n                    });\r\n                    this.timer = setInterval(()=>{\r\n                        that.countDownTime--;\r\n                        // that.getCodeBtnText = this.countDownTime + \"s后重新获取\";\r\n                        that.getCodeBtnText = this.countDownTime + \"秒\";\r\n                        that.getCodeDisabled = true;\r\n                        if(that.countDownTime <= 0){\r\n                            clearInterval(this.timer);\r\n                            that.countDownTime = 60;\r\n                            that.timeOut = true;\r\n                            that.getCodeDisabled = false;\r\n                            // that.$refs.getCode.removeAttribute(\"disabled\");\r\n                            // that.$refs.getCode.value = \"获取验证码\";\r\n                            that.getCodeBtnText = \"获取验证码\";\r\n                        }\r\n                    },1000)\r\n                } else {\r\n                    that.errorFlag.phone_empty = true;\r\n                }\r\n            },\r\n            activeLogin(){\r\n                //判空\r\n                let code = this.input_info.code;\r\n                this.errorFlag.code_empty = code === \"\" || code === null || code === undefined;\r\n                if (code && code.length === this.mConfigs.code_length) {\r\n                    //激活登录按钮\r\n                    this.isLoginForbidden = this.errorFlag.phone_empty || this.errorFlag.phone_err || this.errorFlag.code_empty;\r\n                }\r\n            },\r\n            /***************************************************登录****************************************************/\r\n            login(){\r\n                if (!this.isLoginForbidden){\r\n                    //去除空格\r\n                    this.input_info.phone = this.input_info.phone.replace(/\\s*/g,\"\");\r\n                    //用户设置函数\r\n                    this.$emit('parent_phone_login',this.input_info);\r\n                }\r\n            }\r\n        },\r\n        beforeDestroy(){\r\n            clearInterval(this.timer);\r\n            this.timer = null;\r\n        },\r\n    }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n    @mainColor: #007cdc;\r\n    .gradient{\r\n        background-image: linear-gradient(to right,@mainColor,lighten(@mainColor,18%));\r\n    }\r\n    .error{\r\n        background: red;\r\n        transform: scaleY(1);\r\n        font-size: .72rem;\r\n        color: red;\r\n        text-align: right;\r\n        line-height: 1.6rem;\r\n    }\r\n    .phoneLogin{\r\n        width: 80%;\r\n        height: 100vh;\r\n        margin: 33% auto;\r\n        text-align: center;\r\n        h2{\r\n            color: #666666;\r\n            font-size: 1.6rem;\r\n        }\r\n        //弹窗\r\n        .toast {\r\n            position: fixed;\r\n            z-index: 2000;\r\n            left: 50%;\r\n            top:45%;\r\n            transition:all .5s;\r\n            transform: translateX(-50%) translateY(-50%);\r\n            text-align: center;\r\n            border-radius: 5px;\r\n            color:#FFF;\r\n            background: rgba(17, 17, 17, 0.7);\r\n            height: 45px;\r\n            line-height: 45px;\r\n            padding: 0 15px;\r\n            max-width: 150px;\r\n        }\r\n        //用户名、密码输入框\r\n        .input_wrapper{\r\n            .inputItem{\r\n                display: flex;\r\n                flex-direction: row;\r\n                justify-content: center;\r\n                align-items: center;\r\n                position: relative;\r\n                margin-top: 1.42rem;\r\n                &::after{\r\n                    content: \"\";\r\n                    position: absolute;\r\n                    height: 1px;\r\n                    width: 100%;\r\n                    bottom: 0;\r\n                    transform: scaleY(.5);\r\n                    background: #bfbfbf;\r\n                }\r\n                .chooseArea{\r\n                    display: flex;\r\n                    align-items: center;\r\n                    span{\r\n                        margin-left: .2rem;\r\n                        margin-top: 7.2%;\r\n                    }\r\n                }\r\n\r\n                .inputContent{\r\n                    padding: .4rem;\r\n                    input{\r\n                        font-size: 1.11rem;\r\n                        border: none;\r\n                        outline: none;\r\n                        width: 90%;\r\n                        letter-spacing: .1rem;\r\n                        &::placeholder{\r\n                            color: #aaaaaa;\r\n                        }\r\n                    }\r\n                    #input_code{\r\n                        text-align: center;\r\n                        letter-spacing: .6rem;\r\n                        &::placeholder{\r\n                            letter-spacing: .1rem;\r\n                        }\r\n                    }\r\n                }\r\n                .getCodeBtn{\r\n                    button {\r\n                        letter-spacing: 0;\r\n                        font-size: .72rem;\r\n                        background: white;\r\n                        color: @mainColor;\r\n                        border: .5px @mainColor solid;\r\n                        border-radius: 6px;\r\n                        margin-bottom: .4rem;\r\n                        text-indent: 0;\r\n                        &:active{\r\n                            background: #f1f1f1;\r\n                        }\r\n                        &:disabled{\r\n                            background: tint(@mainColor,90%);\r\n                            color: fade(@mainColor,40%);\r\n                            border: #f2f2f2;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            /*.codeInput{*/\r\n            /*    display: inline;*/\r\n            /*}*/\r\n            .focus::after{\r\n                background: @mainColor;\r\n            }\r\n            .phone_empty::after{\r\n                content: '手机号不能为空';\r\n                .error();\r\n            }\r\n            .phone_error::after{\r\n                content: '请填入正确的手机号';\r\n                .error();\r\n            }\r\n            .code_empty::after{\r\n                content: '验证码不能为空';\r\n                .error();\r\n            }\r\n            .code_error::after{\r\n                content: '验证码错误';\r\n                .error();\r\n            }\r\n        }\r\n        //登录按钮\r\n        button{\r\n            .gradient;\r\n            border: none;\r\n            outline: none;\r\n            position: relative;\r\n            color: white;\r\n            border-radius: 1.2rem;\r\n            padding-top: .42rem;\r\n            padding-bottom: .42rem;\r\n            margin-top: 10%;\r\n            font-size: 1.111rem;\r\n            overflow: hidden;\r\n            letter-spacing: .6rem;\r\n            text-indent: .6rem;\r\n            text-align: center;\r\n        }\r\n        .loginBtn {\r\n            width: 100%;\r\n        }\r\n        //账号密码登录\r\n        .accountLogin{\r\n            width: 100%;\r\n            letter-spacing: .1rem;\r\n            background: white;\r\n            border: .8px solid @mainColor;\r\n            color: @mainColor;\r\n            margin-top: 5%;\r\n            &:active{\r\n                background: fade(@mainColor,8%);\r\n            }\r\n        }\r\n        .opt_button{\r\n            cursor: pointer;\r\n            &::after{\r\n                content: \"\";\r\n                background: #fff;\r\n                display: block;\r\n                position: absolute;\r\n                width: 200%;\r\n                height: 200%;\r\n                top: -5%;\r\n                border-radius: 50px;\r\n                margin-left: -80%;\r\n                opacity: 0;\r\n                transition: all 0.75s ease-in-out;\r\n            }\r\n            &:active::after {\r\n                width: 0;\r\n                opacity: 0.6;\r\n                transition: 0s;\r\n            }\r\n        }\r\n        .forbidden{\r\n            background: tint(@mainColor,70%);\r\n            color: fade(white,80%);\r\n        }\r\n\r\n        .tips{\r\n            font-size: .8rem;\r\n            margin-top: .4rem;\r\n            text-align: right;\r\n            .changedPhone{\r\n                margin-right: .2rem;\r\n                color: #2986de;\r\n            }\r\n        }\r\n\r\n        /*********************第三方登录******************/\r\n        .otherLoginWays{\r\n            width: 80%;\r\n            position: fixed;\r\n            bottom: 8.2%;\r\n            left: 10%;\r\n            right: 10%;\r\n            text-align: center;\r\n            .otherWayTextWrapper{\r\n                line-height: 0;\r\n                &:before,&:after{\r\n                    position: absolute;\r\n                    background: #ddd;\r\n                    content: \"\";\r\n                    height: 1px;\r\n                    width: 30%;\r\n                }\r\n                &:before{\r\n                    left: 0;\r\n                }\r\n                &:after{\r\n                    right: 0;\r\n                }\r\n                .otherWayText{\r\n                    font-size: .8rem;\r\n                    color: #bbbbbb;\r\n                }\r\n            }\r\n            .icons{\r\n                display: flex;\r\n                flex-direction: row;\r\n                justify-content: space-around;\r\n                margin-top: 1.4em;\r\n                img{\r\n                    width: 2rem;\r\n                    height: 2em;\r\n                }\r\n            }\r\n        }\r\n\r\n        .protocol{\r\n            position: fixed;\r\n            bottom: 4%;\r\n            left: 2%;\r\n            right: 2%;\r\n            font-size: .72em;\r\n            margin-top: 8%;\r\n            color: #333333;\r\n            span{\r\n                color: #2986de;\r\n            }\r\n        }\r\n    }\r\n</style>\r\n"]}]}